(this["webpackJsonpdalle-playground"]=this["webpackJsonpdalle-playground"]||[]).push([[0],{117:function(e,t,n){},127:function(e,t){},154:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),o=(n(87),n(12)),l=n(18),s=n.n(l),u=n(181),d=n(182),m=n(183),p=n(35),g=n.n(p),f=n(56),h=n(71),E=n.n(h);function x(){return(x=Object(f.a)(g.a.mark((function e(t,n,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=E.a,e.next=4,fetch(t+"/dalle",{method:"POST",headers:{"Bypass-Tunnel-Reminder":"go",mode:"no-cors"},body:JSON.stringify({text:n,num_images:a})}).then((function(e){if(!e.ok)throw Error(e.statusText);return e}));case 4:return e.next=6,e.sent.text();case 6:return e.t1=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t1));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{"Bypass-Tunnel-Reminder":"go",mode:"no-cors"}}).then((function(e){return!0})).catch((function(){return!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(179),y=function(e){var t=e.imgData,n=e.alt;return r.a.createElement("img",{src:"data:image/png;base64,".concat(t),alt:n})},k=function(e){var t=e.generatedImages;return r.a.createElement(v.a,{container:!0,alignItems:"center",spacing:3},t.map((function(e,t){return r.a.createElement(v.a,{item:!0,key:t},r.a.createElement(y,{imgData:e,alt:t}))})))},j=n(184),O=s()((function(){return{inputPrompt:{marginTop:"20px"}}}))((function(e){var t=e.classes,n=e.enterPressedCallback,c=e.disabled,i=Object(a.useState)(""),l=Object(o.a)(i,2),s=l[0],u=l[1];return r.a.createElement(j.a,{className:t.inputPrompt,id:"prompt-input",label:"Text prompt",helperText:"hit Enter to search",placeholder:"e.g. an apple on a table",value:s,onChange:function(e){u(e.target.value)},fullWidth:!0,onKeyPress:function(e){"Enter"===e.key&&n(s)},disabled:c})}));n(117);var w=n(46),B=n(76),S=n.n(B),L=s()((function(){return{inputBackend:{minWidth:"220px"},loadingSpinner:{paddingTop:"20px !important"}}}))((function(e){var t=e.classes,n=e.setBackendValidUrl,c=e.isValidBackendEndpoint,i=e.setIsValidBackendEndpoint,l=e.isCheckingBackendEndpoint,s=e.setIsCheckingBackendEndpoint,u=Object(a.useState)(""),d=Object(o.a)(u,2),m=d[0],p=d[1];function g(e){var t;t=e,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)?(s(!0),function(e){return b.apply(this,arguments)}(e).then((function(t){i(t),t&&n(e),s(!1)})).catch((function(){s(!1)}))):i(!1),p(e)}return Object(a.useEffect)((function(){var e=S.a.parse(window.location.search,{ignoreQueryPrefix:!0}).backendUrl;e&&g(e)}),[p]),r.a.createElement(v.a,{container:!0,spacing:1,alignContent:"center"},r.a.createElement(v.a,{item:!0,xs:10},r.a.createElement(j.a,{className:t.inputBackend,id:"standard-basic",label:"Backend URL",value:m,fullWidth:!0,error:!c&&""!==m,helperText:!c&&""!==m&&"Make sure this is a valid URL",onChange:function(e){return g(e.target.value)}})),r.a.createElement(v.a,{item:!0,className:t.loadingSpinner,xs:2},r.a.createElement(w.PulseLoader,{sizeUnit:"px",size:5,color:"purple",loading:l})))})),C=["Generating images \ud83d\udc68\ud83c\udffd\u200d\ud83c\udfa8","Doing fancy calculations \u2728"],N=s()((function(){return{root:{display:"flex",flexDirection:"column",textAlign:"center"},loadingText:{paddingTop:"20px"}}}))((function(e){var t=e.classes,n=e.isLoading,c=Object(a.useState)(0),i=Object(o.a)(c,2),l=i[0],s=i[1];Object(a.useEffect)((function(){var e=setTimeout((function(){l+1<C.length&&s(l+1)}),1e4);return function(){return clearInterval(e)}}),[]);var d=C[l%C.length];return r.a.createElement("div",{className:t.root},r.a.createElement(w.PulseLoader,{sizeUnit:"px",size:20,color:"purple",loading:n}),r.a.createElement(u.a,{className:t.loadingText,variant:"h6"},d))})),T=s()((function(){return{root:{display:"flex",flex:"1",flexDirection:"column",margin:"60px 0px 60px 0px",alignItems:"center",textAlign:"center"},title:{marginBottom:"20px"},subtitle:{marginBottom:"30px"},playgroundSection:{display:"flex",flex:1,width:"90%"},settingsSection:{display:"flex",flexDirection:"column",padding:"1em",maxWidth:"320px"},searchQueryCard:{marginBottom:"20px"},gallery:{display:"flex",flex:"1",justifyContent:"center",alignItems:"center",padding:"1rem"}}}))((function(e){var t=e.classes,n=Object(a.useState)(""),c=Object(o.a)(n,2),i=c[0],l=c[1],s=Object(a.useState)(!1),p=Object(o.a)(s,2),g=p[0],f=p[1],h=Object(a.useState)(!1),E=Object(o.a)(h,2),b=E[0],v=E[1],y=Object(a.useState)(!0),j=Object(o.a)(y,2),w=j[0],B=j[1],S=Object(a.useState)([]),C=Object(o.a)(S,2),T=C[0],I=C[1],P=Object(a.useState)(""),z=Object(o.a)(P,2),D=z[0],A=z[1];return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.title},r.a.createElement(u.a,{variant:"h3"},"DALL-E Playground ",r.a.createElement("span",{role:"img","aria-label":"sparks-emoji"},"\u2728"))),!w&&r.a.createElement("div",{className:t.subtitle},r.a.createElement(u.a,{variant:"body1",color:"textSecondary"},"Put your DALL-E backend URL to start")),r.a.createElement("div",{className:t.playgroundSection},r.a.createElement("div",{className:t.settingsSection},r.a.createElement(d.a,{className:t.searchQueryCard},r.a.createElement(m.a,null,r.a.createElement(L,{setBackendValidUrl:l,isValidBackendEndpoint:w,setIsValidBackendEndpoint:B,setIsCheckingBackendEndpoint:v,isCheckingBackendEndpoint:b}),r.a.createElement(O,{enterPressedCallback:function(e){console.log("API call to DALL-E web service with the following prompt ["+e+"]"),A(""),f(!0),function(e,t,n){return x.apply(this,arguments)}(i,e,4).then((function(e){I(e),f(!1)})).catch((function(e){f(!1),console.log("Error querying DALL-E service.",e),A("Error querying DALL-E service. Check your backend server logs.")}))},disabled:g||!w||!i})))),r.a.createElement("div",{className:t.gallery},D?r.a.createElement(u.a,{variant:"h5",color:"error"},D):g?r.a.createElement(N,{isLoading:g}):r.a.createElement(k,{generatedImages:T}))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,t,n){e.exports=n(154)},87:function(e,t,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.93141988.chunk.js.map